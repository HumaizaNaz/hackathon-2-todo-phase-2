{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/km/Desktop/docs/hackatho-2/phase-2/frontend/src/app/login/page.tsx"],"sourcesContent":["// frontend/src/app/login/page.tsx\n\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { useRouter, useSearchParams } from \"next/navigation\";\nimport { useAuth } from \"../../context/AuthContext\";\nimport { customSignIn } from \"../../lib/auth-client\";\n\nexport default function LoginPage() {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n  const router = useRouter();\n  const searchParams = useSearchParams();\n  const { setToken } = useAuth();\n\n  useEffect(() => {\n    const msg = searchParams.get(\"message\");\n    if (msg) {\n      setMessage(msg);\n    }\n  }, [searchParams]);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setError(\"\");\n    setMessage(\"\");\n\n    try {\n      const data = await customSignIn(email, password);\n      if (data.access_token) {\n        setToken(data.access_token);\n        router.push(\"/dashboard\"); // Redirect to dashboard on successful login\n      } else {\n        throw new Error(\"Login successful, but no access token received.\");\n      }\n    } catch (err: any) {\n      setError(err.message || \"An unexpected error occurred.\");\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8\">\n      <div className=\"max-w-md w-full space-y-8 card\">\n        <div>\n          <h2 className=\"mt-6 text-center text-3xl font-extrabold text-[color:var(--text-primary)]\">\n            Sign in to your account\n          </h2>\n        </div>\n        <form className=\"mt-8 space-y-6\" onSubmit={handleSubmit}>\n          <div className=\"rounded-md shadow-sm -space-y-px\">\n            <div>\n              <label htmlFor=\"email-address\" className=\"sr-only\">\n                Email address\n              </label>\n              <input\n                id=\"email-address\"\n                name=\"email\"\n                type=\"email\"\n                autoComplete=\"email\"\n                required\n                className=\"appearance-none rounded-none relative block w-full px-3 py-2 border border-[color:var(--border-neon)] placeholder-[color:var(--text-primary)] text-[color:var(--text-primary)] rounded-t-md focus:outline-none focus:ring-[color:var(--border-neon)] focus:border-[color:var(--border-neon)] focus:z-10 sm:text-sm bg-[color:var(--bg-card)]\"\n                placeholder=\"Email address\"\n                value={email}\n                onChange={(e) => setEmail(e.target.value)}\n              />\n            </div>\n            <div>\n              <label htmlFor=\"password\" className=\"sr-only\">\n                Password\n              </label>\n              <input\n                id=\"password\"\n                name=\"password\"\n                type=\"password\"\n                autoComplete=\"current-password\"\n                required\n                className=\"appearance-none rounded-none relative block w-full px-3 py-2 border border-[color:var(--border-neon)] placeholder-[color:var(--text-primary)] text-[color:var(--text-primary)] rounded-b-md focus:outline-none focus:ring-[color:var(--border-neon)] focus:border-[color:var(--border-neon)] focus:z-10 sm:text-sm bg-[color:var(--bg-card)]\"\n                placeholder=\"Password\"\n                value={password}\n                onChange={(e) => setPassword(e.target.value)}\n              />\n            </div>\n          </div>\n\n          {message && <p className=\"mt-2 text-center text-sm text-green-500\">{message}</p>}\n          {error && <p className=\"mt-2 text-center text-sm text-red-500\">{error}</p>}\n\n          <div>\n            <button\n              type=\"submit\"\n              className=\"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-gradient-to-r from-[#ff00ff] to-[#9d00ff] hover:from-[#00bfff] hover:to-[#00ffff] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#ff00ff] transition-all duration-300 transform hover:scale-105\"\n            >\n              Sign in\n            </button>\n          </div>\n        </form>\n        <div className=\"text-sm text-center\">\n          <a href=\"/signup\" className=\"font-medium text-[#ff00ff] hover:text-[#00ffff]\">\n            Don't have an account? Sign up\n          </a>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAGA;AACA;AACA;AACA;AANA,kCAAkC;AAClC;;;;;;AAOe,SAAS;IACtB,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,+QAAQ,EAAC;IACnC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,+QAAQ,EAAC;IACzC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,+QAAQ,EAAC;IACnC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,+QAAQ,EAAC;IACvC,MAAM,SAAS,IAAA,6MAAS;IACxB,MAAM,eAAe,IAAA,mNAAe;IACpC,MAAM,EAAE,QAAQ,EAAE,GAAG,IAAA,uMAAO;IAE5B,IAAA,gRAAS,EAAC;QACR,MAAM,MAAM,aAAa,GAAG,CAAC;QAC7B,IAAI,KAAK;YACP,WAAW;QACb;IACF,GAAG;QAAC;KAAa;IAEjB,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAChB,SAAS;QACT,WAAW;QAEX,IAAI;YACF,MAAM,OAAO,MAAM,IAAA,0MAAY,EAAC,OAAO;YACvC,IAAI,KAAK,YAAY,EAAE;gBACrB,SAAS,KAAK,YAAY;gBAC1B,OAAO,IAAI,CAAC,eAAe,4CAA4C;YACzE,OAAO;gBACL,MAAM,IAAI,MAAM;YAClB;QACF,EAAE,OAAO,KAAU;YACjB,SAAS,IAAI,OAAO,IAAI;QAC1B;IACF;IAEA,qBACE,4SAAC;QAAI,WAAU;kBACb,cAAA,4SAAC;YAAI,WAAU;;8BACb,4SAAC;8BACC,cAAA,4SAAC;wBAAG,WAAU;kCAA4E;;;;;;;;;;;8BAI5F,4SAAC;oBAAK,WAAU;oBAAiB,UAAU;;sCACzC,4SAAC;4BAAI,WAAU;;8CACb,4SAAC;;sDACC,4SAAC;4CAAM,SAAQ;4CAAgB,WAAU;sDAAU;;;;;;sDAGnD,4SAAC;4CACC,IAAG;4CACH,MAAK;4CACL,MAAK;4CACL,cAAa;4CACb,QAAQ;4CACR,WAAU;4CACV,aAAY;4CACZ,OAAO;4CACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;;;;;;;;;;;;8CAG5C,4SAAC;;sDACC,4SAAC;4CAAM,SAAQ;4CAAW,WAAU;sDAAU;;;;;;sDAG9C,4SAAC;4CACC,IAAG;4CACH,MAAK;4CACL,MAAK;4CACL,cAAa;4CACb,QAAQ;4CACR,WAAU;4CACV,aAAY;4CACZ,OAAO;4CACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;;;;;;;;;;;;;;;;;;wBAKhD,yBAAW,4SAAC;4BAAE,WAAU;sCAA2C;;;;;;wBACnE,uBAAS,4SAAC;4BAAE,WAAU;sCAAyC;;;;;;sCAEhE,4SAAC;sCACC,cAAA,4SAAC;gCACC,MAAK;gCACL,WAAU;0CACX;;;;;;;;;;;;;;;;;8BAKL,4SAAC;oBAAI,WAAU;8BACb,cAAA,4SAAC;wBAAE,MAAK;wBAAU,WAAU;kCAAkD;;;;;;;;;;;;;;;;;;;;;;AAOxF"}}]
}
{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/km/Desktop/docs/hackatho-2/phase-2/frontend/src/lib/auth-client.ts"],"sourcesContent":["// frontend/src/lib/auth-client.ts\n// Client-side auth functions that work with our backend API\n\n// Functions that work with our backend API\n// These functions call the backend auth endpoints directly\nexport const customSignIn = async (email: string, password: string) => {\n  // Call the backend auth endpoint directly\n  const response = await fetch(`${process.env.NEXT_PUBLIC_API_BASE_URL}/auth/signin`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify({ email, password }),\n    credentials: 'include' // Include cookies in the request\n  });\n\n  if (!response.ok) {\n    const error = await response.json();\n    throw new Error(error.detail || 'Login failed');\n  }\n\n  const data = await response.json();\n  // Store token in a more secure way if needed, or rely on cookies\n  if (typeof window !== 'undefined') {\n    sessionStorage.setItem('access_token', data.access_token);\n  }\n  return data;\n};\n\nexport const customSignUp = async (email: string, password: string) => {\n  // Call the backend auth endpoint directly\n  const response = await fetch(`${process.env.NEXT_PUBLIC_API_BASE_URL}/auth/signup`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify({ email, password }),\n    credentials: 'include' // Include cookies in the request\n  });\n\n  if (!response.ok) {\n    const error = await response.json();\n    throw new Error(error.detail || 'Signup failed');\n  }\n\n  const data = await response.json();\n  return data;\n};\n\nexport const customSignOut = () => {\n  if (typeof window !== 'undefined') {\n    sessionStorage.removeItem('access_token');\n  }\n};\n\nexport const getAuthToken = () => {\n  // Only access sessionStorage in the browser (client-side)\n  if (typeof window !== 'undefined') {\n    return sessionStorage.getItem('access_token');\n  }\n  return null;\n};\n\n// Mock implementations for Better Auth functions to prevent errors\nexport const signIn = {\n  email: async ({ email, password, callbackURL }: { email: string; password: string; callbackURL: string }) => {\n    // Use our custom sign in function instead\n    try {\n      await customSignIn(email, password);\n      // Simulate redirect\n      if (typeof window !== 'undefined') {\n        window.location.href = callbackURL;\n      }\n      return { error: null };\n    } catch (error: any) {\n      return { error: { message: error.message } };\n    }\n  }\n};\n\nexport const signOut = async () => {\n  customSignOut();\n  if (typeof window !== 'undefined') {\n    window.location.href = '/login';\n  }\n};\n\nexport const useSession = () => {\n  // Check if we're in the browser\n  if (typeof window === 'undefined') {\n    return {\n      data: {\n        user: null,\n        session: null\n      },\n      isLoading: true\n    };\n  }\n\n  // Mock session hook\n  const token = getAuthToken();\n  const isAuthenticated = !!token;\n\n  // In a real implementation, you'd decode the JWT to get user info\n  const user = token ? { email: 'user@example.com' } : null;\n\n  return {\n    data: {\n      user,\n      session: token ? { token } : null\n    },\n    isLoading: false\n  };\n};\n\nexport const token = async () => {\n  const tokenValue = getAuthToken();\n  return tokenValue ? { data: { token: tokenValue } } : { data: null };\n};"],"names":[],"mappings":"AAAA,kCAAkC;AAClC,4DAA4D;AAE5D,2CAA2C;AAC3C,2DAA2D;;;;;;;;;;;;;;;;;;;AAGzB;AAF3B,MAAM,eAAe,OAAO,OAAe;IAChD,0CAA0C;IAC1C,MAAM,WAAW,MAAM,MAAM,iEAAwC,YAAY,CAAC,EAAE;QAClF,QAAQ;QACR,SAAS;YACP,gBAAgB;QAClB;QACA,MAAM,KAAK,SAAS,CAAC;YAAE;YAAO;QAAS;QACvC,aAAa,UAAU,iCAAiC;IAC1D;IAEA,IAAI,CAAC,SAAS,EAAE,EAAE;QAChB,MAAM,QAAQ,MAAM,SAAS,IAAI;QACjC,MAAM,IAAI,MAAM,MAAM,MAAM,IAAI;IAClC;IAEA,MAAM,OAAO,MAAM,SAAS,IAAI;IAChC,iEAAiE;IACjE,wCAAmC;QACjC,eAAe,OAAO,CAAC,gBAAgB,KAAK,YAAY;IAC1D;IACA,OAAO;AACT;AAEO,MAAM,eAAe,OAAO,OAAe;IAChD,0CAA0C;IAC1C,MAAM,WAAW,MAAM,MAAM,iEAAwC,YAAY,CAAC,EAAE;QAClF,QAAQ;QACR,SAAS;YACP,gBAAgB;QAClB;QACA,MAAM,KAAK,SAAS,CAAC;YAAE;YAAO;QAAS;QACvC,aAAa,UAAU,iCAAiC;IAC1D;IAEA,IAAI,CAAC,SAAS,EAAE,EAAE;QAChB,MAAM,QAAQ,MAAM,SAAS,IAAI;QACjC,MAAM,IAAI,MAAM,MAAM,MAAM,IAAI;IAClC;IAEA,MAAM,OAAO,MAAM,SAAS,IAAI;IAChC,OAAO;AACT;AAEO,MAAM,gBAAgB;IAC3B,wCAAmC;QACjC,eAAe,UAAU,CAAC;IAC5B;AACF;AAEO,MAAM,eAAe;IAC1B,0DAA0D;IAC1D,wCAAmC;QACjC,OAAO,eAAe,OAAO,CAAC;IAChC;;;AAEF;AAGO,MAAM,SAAS;IACpB,OAAO,OAAO,EAAE,KAAK,EAAE,QAAQ,EAAE,WAAW,EAA4D;QACtG,0CAA0C;QAC1C,IAAI;YACF,MAAM,aAAa,OAAO;YAC1B,oBAAoB;YACpB,wCAAmC;gBACjC,OAAO,QAAQ,CAAC,IAAI,GAAG;YACzB;YACA,OAAO;gBAAE,OAAO;YAAK;QACvB,EAAE,OAAO,OAAY;YACnB,OAAO;gBAAE,OAAO;oBAAE,SAAS,MAAM,OAAO;gBAAC;YAAE;QAC7C;IACF;AACF;AAEO,MAAM,UAAU;IACrB;IACA,wCAAmC;QACjC,OAAO,QAAQ,CAAC,IAAI,GAAG;IACzB;AACF;AAEO,MAAM,aAAa;IACxB,gCAAgC;IAChC;;IAUA,oBAAoB;IACpB,MAAM,QAAQ;IACd,MAAM,kBAAkB,CAAC,CAAC;IAE1B,kEAAkE;IAClE,MAAM,OAAO,QAAQ;QAAE,OAAO;IAAmB,IAAI;IAErD,OAAO;QACL,MAAM;YACJ;YACA,SAAS,QAAQ;gBAAE;YAAM,IAAI;QAC/B;QACA,WAAW;IACb;AACF;AAEO,MAAM,QAAQ;IACnB,MAAM,aAAa;IACnB,OAAO,aAAa;QAAE,MAAM;YAAE,OAAO;QAAW;IAAE,IAAI;QAAE,MAAM;IAAK;AACrE"}},
    {"offset": {"line": 149, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/km/Desktop/docs/hackatho-2/phase-2/frontend/src/context/AuthContext.tsx"],"sourcesContent":["// frontend/src/context/AuthContext.tsx\n\"use client\";\n\nimport { createContext, useState, useContext, useEffect, ReactNode } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport { jwtDecode } from \"jwt-decode\";\nimport { getAuthToken, customSignOut } from \"../lib/auth-client\";\n\ninterface AuthContextType {\n  token: string | null;\n  setToken: (token: string | null) => void;\n  logout: () => void;\n  isAuthenticated: boolean;\n  loading: boolean;\n  user: { id: string; email: string } | null;\n}\n\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\n\nexport function AuthProvider({ children }: { children: ReactNode }) {\n  const [token, setTokenState] = useState<string | null>(null);\n  const [user, setUser] = useState<{ id: string; email: string } | null>(null);\n  const [loading, setLoading] = useState(true);\n  const router = useRouter();\n\n  useEffect(() => {\n    if (typeof window !== 'undefined') {\n      const storedToken = getAuthToken();\n      if (storedToken) {\n        setTokenState(storedToken);\n        try {\n          const decoded: { sub: string; email: string } = jwtDecode(storedToken);\n          setUser({ id: decoded.sub, email: decoded.email });\n        } catch (error) {\n          console.error(\"Failed to decode token:\", error);\n          // Handle invalid token, e.g., by logging out\n          customSignOut();\n          setTokenState(null);\n          setUser(null);\n        }\n      }\n    }\n    setLoading(false);\n  }, [token]);\n\n  const setToken = (newToken: string | null) => {\n    setTokenState(newToken);\n    if (typeof window !== 'undefined') {\n      if (newToken) {\n        sessionStorage.setItem(\"access_token\", newToken);\n        try {\n          const decoded: { sub: string; email: string } = jwtDecode(newToken);\n          setUser({ id: decoded.sub, email: decoded.email });\n        } catch (error) {\n          console.error(\"Failed to decode token:\", error);\n          setUser(null);\n        }\n      } else {\n        sessionStorage.removeItem(\"access_token\");\n        setUser(null);\n      }\n    }\n  };\n\n  const logout = async () => {\n    customSignOut();\n    setTokenState(null);\n    setUser(null);\n    router.push(\"/login\"); // Redirect to login page on logout\n  };\n\n  const isAuthenticated = !!token;\n\n  return (\n    <AuthContext.Provider value={{ \n      token, \n      setToken, \n      logout, \n      isAuthenticated, \n      loading,\n      user\n    }}>\n      {children}\n    </AuthContext.Provider>\n  );\n}\n\n\nexport function useAuth() {\n  const context = useContext(AuthContext);\n  if (context === undefined) {\n    throw new Error(\"useAuth must be used within an AuthProvider\");\n  }\n  return context;\n}"],"names":[],"mappings":";;;;;;;AAGA;AACA;AACA;AACA;;;AANA,uCAAuC;AACvC;;;;;AAgBA,MAAM,4BAAc,IAAA,4OAAa,EAA8B;AAExD,SAAS,aAAa,EAAE,QAAQ,EAA2B;;IAChE,MAAM,CAAC,OAAO,cAAc,GAAG,IAAA,uOAAQ,EAAgB;IACvD,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,uOAAQ,EAAuC;IACvE,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,uOAAQ,EAAC;IACvC,MAAM,SAAS,IAAA,gNAAS;IAExB,IAAA,wOAAS;kCAAC;YACR,wCAAmC;gBACjC,MAAM,cAAc,IAAA,6MAAY;gBAChC,IAAI,aAAa;oBACf,cAAc;oBACd,IAAI;wBACF,MAAM,UAA0C,IAAA,oOAAS,EAAC;wBAC1D,QAAQ;4BAAE,IAAI,QAAQ,GAAG;4BAAE,OAAO,QAAQ,KAAK;wBAAC;oBAClD,EAAE,OAAO,OAAO;wBACd,QAAQ,KAAK,CAAC,2BAA2B;wBACzC,6CAA6C;wBAC7C,IAAA,8MAAa;wBACb,cAAc;wBACd,QAAQ;oBACV;gBACF;YACF;YACA,WAAW;QACb;iCAAG;QAAC;KAAM;IAEV,MAAM,WAAW,CAAC;QAChB,cAAc;QACd,wCAAmC;YACjC,IAAI,UAAU;gBACZ,eAAe,OAAO,CAAC,gBAAgB;gBACvC,IAAI;oBACF,MAAM,UAA0C,IAAA,oOAAS,EAAC;oBAC1D,QAAQ;wBAAE,IAAI,QAAQ,GAAG;wBAAE,OAAO,QAAQ,KAAK;oBAAC;gBAClD,EAAE,OAAO,OAAO;oBACd,QAAQ,KAAK,CAAC,2BAA2B;oBACzC,QAAQ;gBACV;YACF,OAAO;gBACL,eAAe,UAAU,CAAC;gBAC1B,QAAQ;YACV;QACF;IACF;IAEA,MAAM,SAAS;QACb,IAAA,8MAAa;QACb,cAAc;QACd,QAAQ;QACR,OAAO,IAAI,CAAC,WAAW,mCAAmC;IAC5D;IAEA,MAAM,kBAAkB,CAAC,CAAC;IAE1B,qBACE,2PAAC,YAAY,QAAQ;QAAC,OAAO;YAC3B;YACA;YACA;YACA;YACA;YACA;QACF;kBACG;;;;;;AAGP;GAlEgB;;QAIC,gNAAS;;;KAJV;AAqET,SAAS;;IACd,MAAM,UAAU,IAAA,yOAAU,EAAC;IAC3B,IAAI,YAAY,WAAW;QACzB,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT;IANgB"}},
    {"offset": {"line": 269, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/km/Desktop/docs/hackatho-2/phase-2/frontend/src/components/Navbar.tsx"],"sourcesContent":["// frontend/src/components/Navbar.tsx\n\"use client\";\n\nimport Link from \"next/link\";\nimport { useAuth } from \"../context/AuthContext\";\nimport { useState } from \"react\";\nimport { Menu, X } from \"lucide-react\";\n\nexport default function Navbar() {\n  const { isAuthenticated, logout } = useAuth();\n  const [isOpen, setIsOpen] = useState(false);\n\n  const toggleMenu = () => setIsOpen(!isOpen);\n\n  return (\n    <nav className=\"bg-[color:var(--bg-primary)] border-b border-[color:var(--border-neon)] shadow-lg\">\n      <div className=\"container mx-auto px-4 py-4\">\n        <div className=\"flex justify-between items-center\">\n          {/* Logo */}\n          <Link href=\"/\" className=\"flex items-center\">\n            <h1 className=\"text-3xl font-bold text-[color:var(--neon-cyan)] tracking-wide\" style={{ textShadow: '0 0 8px #00ffff, 0 0 15px #00ffff' }}>\n              Neon Todo\n            </h1>\n          </Link>\n\n          {/* Desktop Menu */}\n          <div className=\"hidden md:flex items-center space-x-8\">\n            <Link href=\"/\" className=\"text-[color:var(--text-primary)] hover:text-[color:var(--neon-cyan)] transition-colors duration-300 relative group px-3 py-2 rounded-lg hover:bg-[color:var(--bg-card)]/30\">\n              Home\n              <span className=\"absolute -bottom-1 left-0 w-0 h-0.5 bg-[color:var(--neon-cyan)] transition-all duration-300 group-hover:w-full\"></span>\n            </Link>\n            <Link href=\"/about\" className=\"text-[color:var(--text-primary)] hover:text-[color:var(--neon-pink)] transition-colors duration-300 relative group px-3 py-2 rounded-lg hover:bg-[color:var(--bg-card)]/30\">\n              About\n              <span className=\"absolute -bottom-1 left-0 w-0 h-0.5 bg-[color:var(--neon-pink)] transition-all duration-300 group-hover:w-full\"></span>\n            </Link>\n\n            {isAuthenticated ? (\n              <>\n                <Link href=\"/dashboard\" className=\"text-[color:var(--text-primary)] hover:text-[color:var(--neon-purple)] transition-colors duration-300 relative group\">\n                  Dashboard\n                  <span className=\"absolute -bottom-1 left-0 w-0 h-0.5 bg-[color:var(--neon-purple)] transition-all duration-300 group-hover:w-full\"></span>\n                </Link>\n                <button\n                  onClick={logout}\n                  className=\"px-6 py-2 rounded-lg bg-gradient-to-r from-[#ff00ff]/20 to-[#00ffff]/20 hover:from-[#ff00ff]/30 hover:to-[#00ffff]/30 border border-[color:var(--border-neon)] transition-all duration-300 transform hover:scale-105 hover:shadow-[0_0_15px_rgba(255,0,255,0.4)] text-[color:var(--text-primary)]\"\n                >\n                  Logout\n                </button>\n              </>\n            ) : (\n              <>\n                <Link\n                  href=\"/login\"\n                  className=\"neon-button-secondary px-6 py-2 text-sm md:text-base\"\n                >\n                  Login\n                </Link>\n                <Link\n                  href=\"/signup\"\n                  className=\"neon-button-primary px-6 py-2 text-sm md:text-base\"\n                >\n                  Sign Up\n                </Link>\n              </>\n            )}\n          </div>\n\n          {/* Mobile Hamburger */}\n          <button\n            onClick={toggleMenu}\n            className=\"md:hidden text-[color:var(--neon-cyan)] focus:outline-none hover:text-[color:var(--neon-pink)] transition-colors duration-300\"\n            aria-label=\"Toggle menu\"\n          >\n            {isOpen ? <X size={28} className=\"animate-pulse\" /> : <Menu size={28} className=\"animate-pulse\" />}\n          </button>\n        </div>\n\n        {/* Mobile Menu */}\n        {isOpen && (\n          <div className=\"mt-6 md:hidden flex flex-col space-y-4 pb-4\">\n            <Link\n              href=\"/\"\n              onClick={() => setIsOpen(false)}\n              className=\"text-lg text-[color:var(--text-primary)] hover:text-[color:var(--neon-cyan)] transition-colors duration-300 relative group py-2 px-3 rounded-lg hover:bg-[color:var(--bg-card)]/30\"\n            >\n              Home\n              <span className=\"absolute -bottom-1 left-0 w-0 h-0.5 bg-[color:var(--neon-cyan)] transition-all duration-300 group-hover:w-full\"></span>\n            </Link>\n            <Link\n              href=\"/about\"\n              onClick={() => setIsOpen(false)}\n              className=\"text-lg text-[color:var(--text-primary)] hover:text-[color:var(--neon-pink)] transition-colors duration-300 relative group py-2 px-3 rounded-lg hover:bg-[color:var(--bg-card)]/30\"\n            >\n              About\n              <span className=\"absolute -bottom-1 left-0 w-0 h-0.5 bg-[color:var(--neon-pink)] transition-all duration-300 group-hover:w-full\"></span>\n            </Link>\n\n            {isAuthenticated ? (\n              <>\n                <Link\n                  href=\"/dashboard\"\n                  onClick={() => setIsOpen(false)}\n                  className=\"text-lg text-[color:var(--text-primary)] hover:text-[color:var(--neon-purple)] transition-colors duration-300 relative group py-2\"\n                >\n                  Dashboard\n                  <span className=\"absolute -bottom-1 left-0 w-0 h-0.5 bg-[color:var(--neon-purple)] transition-all duration-300 group-hover:w-full\"></span>\n                </Link>\n                <button\n                  onClick={() => {\n                    logout();\n                    setIsOpen(false);\n                  }}\n                  className=\"text-left px-4 py-2 rounded-lg bg-gradient-to-r from-[#ff00ff]/20 to-[#00ffff]/20 hover:from-[#ff00ff]/30 hover:to-[#00ffff]/30 border border-[color:var(--border-neon)] transition-all duration-300 transform hover:scale-105 text-[color:var(--text-primary)] w-full\"\n                >\n                  Logout\n                </button>\n              </>\n            ) : (\n              <>\n                <Link\n                  href=\"/login\"\n                  onClick={() => setIsOpen(false)}\n                  className=\"neon-button-secondary py-3 px-4 text-center w-full text-base\"\n                >\n                  Login\n                </Link>\n                <Link\n                  href=\"/signup\"\n                  onClick={() => setIsOpen(false)}\n                  className=\"neon-button-primary py-3 px-4 text-center w-full text-base\"\n                >\n                  Sign Up\n                </Link>\n              </>\n            )}\n          </div>\n        )}\n      </div>\n    </nav>\n  );\n}"],"names":[],"mappings":";;;;;AAGA;AACA;AACA;AACA;AAAA;;;AANA,qCAAqC;AACrC;;;;;AAOe,SAAS;;IACtB,MAAM,EAAE,eAAe,EAAE,MAAM,EAAE,GAAG,IAAA,0MAAO;IAC3C,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,uOAAQ,EAAC;IAErC,MAAM,aAAa,IAAM,UAAU,CAAC;IAEpC,qBACE,2PAAC;QAAI,WAAU;kBACb,cAAA,2PAAC;YAAI,WAAU;;8BACb,2PAAC;oBAAI,WAAU;;sCAEb,2PAAC,wOAAI;4BAAC,MAAK;4BAAI,WAAU;sCACvB,cAAA,2PAAC;gCAAG,WAAU;gCAAiE,OAAO;oCAAE,YAAY;gCAAoC;0CAAG;;;;;;;;;;;sCAM7I,2PAAC;4BAAI,WAAU;;8CACb,2PAAC,wOAAI;oCAAC,MAAK;oCAAI,WAAU;;wCAA6K;sDAEpM,2PAAC;4CAAK,WAAU;;;;;;;;;;;;8CAElB,2PAAC,wOAAI;oCAAC,MAAK;oCAAS,WAAU;;wCAA6K;sDAEzM,2PAAC;4CAAK,WAAU;;;;;;;;;;;;gCAGjB,gCACC;;sDACE,2PAAC,wOAAI;4CAAC,MAAK;4CAAa,WAAU;;gDAAuH;8DAEvJ,2PAAC;oDAAK,WAAU;;;;;;;;;;;;sDAElB,2PAAC;4CACC,SAAS;4CACT,WAAU;sDACX;;;;;;;iEAKH;;sDACE,2PAAC,wOAAI;4CACH,MAAK;4CACL,WAAU;sDACX;;;;;;sDAGD,2PAAC,wOAAI;4CACH,MAAK;4CACL,WAAU;sDACX;;;;;;;;;;;;;;sCAQP,2PAAC;4BACC,SAAS;4BACT,WAAU;4BACV,cAAW;sCAEV,uBAAS,2PAAC,kQAAC;gCAAC,MAAM;gCAAI,WAAU;;;;;qDAAqB,2PAAC,2QAAI;gCAAC,MAAM;gCAAI,WAAU;;;;;;;;;;;;;;;;;gBAKnF,wBACC,2PAAC;oBAAI,WAAU;;sCACb,2PAAC,wOAAI;4BACH,MAAK;4BACL,SAAS,IAAM,UAAU;4BACzB,WAAU;;gCACX;8CAEC,2PAAC;oCAAK,WAAU;;;;;;;;;;;;sCAElB,2PAAC,wOAAI;4BACH,MAAK;4BACL,SAAS,IAAM,UAAU;4BACzB,WAAU;;gCACX;8CAEC,2PAAC;oCAAK,WAAU;;;;;;;;;;;;wBAGjB,gCACC;;8CACE,2PAAC,wOAAI;oCACH,MAAK;oCACL,SAAS,IAAM,UAAU;oCACzB,WAAU;;wCACX;sDAEC,2PAAC;4CAAK,WAAU;;;;;;;;;;;;8CAElB,2PAAC;oCACC,SAAS;wCACP;wCACA,UAAU;oCACZ;oCACA,WAAU;8CACX;;;;;;;yDAKH;;8CACE,2PAAC,wOAAI;oCACH,MAAK;oCACL,SAAS,IAAM,UAAU;oCACzB,WAAU;8CACX;;;;;;8CAGD,2PAAC,wOAAI;oCACH,MAAK;oCACL,SAAS,IAAM,UAAU;oCACzB,WAAU;8CACX;;;;;;;;;;;;;;;;;;;;;;;;;AAUjB;GApIwB;;QACc,0MAAO;;;KADrB"}}]
}